# 2010
## 选择题
1.  D  
i: 可以让CPU更快， 所以加快程序的执行  
ii: 让程序尽量减少在不同阶段流在同一部件， 减少冲突，从而减少流水线断流  
iii: 让程序有更少的指令和更好的先后次序 
1.  B  
r1: -1, r2: -14, r3: -112, r4: -8, 8位寄存器范围为-128-127， 可见r2 * r3溢出  
1.  B  
i: float能保24位精度， i<1024,故小于十位，所以不会有损耗  
ii: float到int,失去小数  
iii: float->double是无损转化， 因为double范围更大  
iv: 大数吃小数(因为对阶的移位操作)故(d+f)-d为0  
1.  D  
2k大的芯片用11位表示范围， 故0B1FH的低11位都清零为最小地址0800H  
1.  A  
iii: ROM不可用作cache， 速度过慢  
iv: ROM不用定时刷新  
1.  D  
不可能出现的是， page未命中， 而cache或TLB命中  
1.  B  
ACD都是程序员不可见寄存器  
1.  A  
这是解决冲突的方法， 不会引起断流  
1.  X  
2024已弃考  
1.  C  
中断隐指令(关中断->保存断点->引出中断处理程序)->中断处理程序(保护现场->执行处理程序->恢复现场->开中断->返回)  
1.  C  
2024已弃考， 结果为 $\frac{24 · 1600 · 1200 · 85}2=1958Mbps$  
## 大题
43  
1):    
解析：  
op为4位， 表示寄存器为3位， 共有 $\frac{128KB}{16b} = 2^{16}$ 字  
答案：  
16种指令， 8个通用寄存器， 16位MAR, 16位MDR  
2):  
解析：  
Rn的范围是 $-2^{15} \sim 2^{15} - 1$ ， 算上PC自增后就是 $-2^{15}-1 \sim 2^{15}$  
PS:  据说这道题当年有问题， 两个答案都对  
答案：  
$-2^{15}-1 \sim 2^{15}$  
3):  
0010（OP）001（Ms）100（Rs）010（Md）101（Rd）  
即2315H  
指令作用是（r4）+（r5）->（r5）， （r5）+1 -> (r5)  
那么地址为5678H和r5会改变  
地址为5678H的操作数变为5678H+1234H = 68ACH   
r5自增后为5679H  
*** 
44  
1):  
解析：  
模版题， 直接套公式不解释  
答案：  
主存有 $\frac{256MB}{64B} = 2^{22}$ 块， 那么标记有 $22-3=19$ 位， 一位存在位，那么cache总大小为 $8 * (64*8+19+1) = 4256b = 532B$  
2):  
a[0][31]所在地址为320 + 4 * (0 * 256 + 31) = 444, 444/64=6, 故在第6个cache块  
a[1][1]所在地址为320 + 4 * (1 * 256 + 1) = 1348, 1348/64=21, 故在第 $21 \mod 8=5$ 个cache块  
3):  
数组刚好在第五个cache块开始（divmod(320, 54) = 5, 0）  
对于A  
每个cache16个元素， 顺序访问这16个元素， 那么每次只有访问第一个时缺失， 命中率为15/16  
对于B  
访问a[0][0]时装入第5块， 访问a[1][0]时刚好又装入第五块,访问a[i][0]时都装入第5块，等下次访问a[0][1]又要重新装入5号块，访问a[0][16]-a[0][31], 以及其他组时同理， 命中率为0