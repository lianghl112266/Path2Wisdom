# 2015
## 选择题 
12. A  
签到题  
1.  B  
最小为首位为1，这样是负数，接着把0尽量往前放， 那么这样最小为10000011， 为-125  
1.  D  
签到题
1.  C  
每块有4*4=16B， 主存有32-4=28, 即 $2^{28}$ 块， cache有4k/4= $2^{10}$ 块， 那么标记就需要28-10=18位， 又因为是回写法， 故需要1位脏位， 再加一位存在位， 那么一块需要4*32+18+1+1=148b， cache有1k块， 即大小为148kb  
1.  B  
地址转化0次， 取出x0次， 加3后写会1次(因为是写直通法)  
1.  B  
签到题， 只有DRAM即变体需要刷新  
1.  D  
按顺序分别访问1， 2， 3， 0， 1， 2， 3， 0， 0号存储器， 最后访问0的会冲突  
1.  C  
同步信号有系统统一提供  
1.  B  
转半圈需要 $\frac{frac{1}2 * 60 * 10 ^ 3}{7200}\approx 4.17$ ms, 写一个扇区需要 $\frac{60 * 10 ^ 3}{7200 * 1000}\approx 0.008$ ms， 故总耗时为8+4.17+0.008 = 12.2ms
1.  B  
打印字符发到数据端口， 设备状态和控制命令发到控制端口， 但是你说给打印控制接口传一个主存地址想干嘛？这又不是DMA控制器  
1.  D  
A正确， 这也是异常称为内中断原因  
B正确， 内部发生异常并且内部检测  
C正确， 若发生异常可直接处理，因为这时已经发生错误，不会再继续接下来的指令周期  
内部异常处理后，有可能根本不会返回， 例如除0
## 应用题  
43  
1):  
用户可见为R0-R3（通用寄存器组），PC  
因为单总线结构不能向运算器同时发两个数据， 不然会发生冲突， 这就需要用T暂存一个操作数  

2):  
ALUop三位， SRop二位  

3):  
控制信号必须连到控制部件， 本题中为1，2，3，5，8   

4):  
6->9， 7->4  

5):  
因为PC占两个字节， 又是按字节编址，所以方便给运算器传输数字2，实现（PC） + 2 -> PC  

**总结**  
挺简单的一年， 这里本题剖析一下CPU结构  
右半图中规中矩， 左边多了个MUX， 这里MUX是确定给ALU发送操作数， 还是PC自增所需的2， T和SR两个存储器位置也很经典， 这里SR的移位操作和ALU的操作共同完成运算器功能   
这里可以记住，单纯起阻塞功能的开关名称叫三态门  
***
44  
1):  
因为1个操作数要用3位信息， 故OP最多为16-9=7位， 128种操作  
2):  
模拟即可  
0000 001 001 000 000  即0240H  
0000 010 010 001 000  即0488H   
0000 011 011 101 010  即06EAH  
3):  
取指阶段分析：  
第一个时钟周期： 把PC内容送到暂存器T， 是想PC+2  
第二个时钟周期： MUXop送2过去，让ALU做PC自增， SRop直送即可  
第三个时钟周期： 把PC自增后结果送回  
第四个时钟周期： 把读到MDR的指令写会IR  
分析可得：MUXop为0， SRop=mov  

shl指令分析：  
第一个时钟周期：  直接把操作数送给运算器， 由于本题ALU无移位功能， 所以需要再移位寄存器处实现  
第二个时钟周期：  结果写回寄存器R2  
分析可得： ALUop为mova， SRop为left  

sub指令分析：  
第一个时钟周期： 把R1内容送到MAR， 发送读指令取数到MDR  
第二个时钟周期：  把R2送到暂存寄存器
第三个时钟周期： 把MDR数据和T的数据直接送到ALU完成减法， 这里SR直送即可， 不需要移位  
第四个时钟周期： 把运算结果的指令写会R0  
分析可得：MEMop=read， ALUop为sub， SRop为mov  

4):  
因为出题者已经把每个周期做什么写出来了， 所以图a有几行，指令就需要即可周期  
sub指令 4个  
shl指令 2个  
**总结**  
签到题