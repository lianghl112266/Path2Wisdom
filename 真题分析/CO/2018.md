# 2018
## 选择题
1.  D  
签到题  
1.  C  
x = -1 - (F-D) * 16 = -33, y = 4 * 16 + 1 = 65, 很明显x-y=-98不会溢出， 而-98=-1 - 16 * 6 - 1， 故为FFFFFF9EH  
1.  A  
签到题， 最小为规格化整数为00800000H, 即 $2^{-126}$  ，最小为整数为00000001H, 即 $2^{-126}*2^{-23}=2^{-149}$  
1.  A  
据题意op为C745FCH, 操作数-64=-1-16*3-15，故为FFFFFFC0H， 用小端存储并拼接op即C745FCC0FFFFFFH  
1.  B  
签到题  
1.  C  
要让地址引脚尽量少， 那么采用地址线复用技术， 又要刷新开销尽量小， 那么r应该尽量小于c, 本题即r= $2^{5}$  ，c= $2^{6}$ 满足要求  
1.  B  
2100H-2000H为100H, 即100000000B, 左移3位(因为sizeof(double)=8)后为100000B, 即正在32个元素, 那么变址寄存器内容就为32  
1.  A  
如果是无符号数， 那么R1大于R2， 相减不会溢出， 如果是有符号数， 负数减负数不会溢出，故OF和CF都为0  
1.  D  
签到题, 至少为最长功能段时间加锁存器延迟时间，且2009年已考过原  
1.  B  
显然i, ii, iii都会提高，对于4，只会节省成本开销， 并且原来可以地址数据一起发送， 而现在要先发地址再发数据， 甚至会减慢数据传输率  
1.  C  
A. 有专门的判优电路（硬件）， 或软件，中断在中断周期统一处理，而不存在先后问题  
B. 中断隐指令：关中断，保存断点，引出中断服务程序， 保存寄存器是中断服务程序做的  
C. 正确  
D. 中断在中断周期统一处理  
## 大题  
43  
评价：  
好题， 给五星  

1):  
A写数据 $\frac{2MB/s}{32b}=2us$ 次， 故需要2us读一次  
需要处理次 $\frac{1s}{2us}=5 * 10^5$  次
花费 $5 * 10^5 * 10 * 3 = 2 * 10^7$ 个时钟周期  
占比为 $\frac{2 * 10*7}{500MHz} = 4$ %

2):  
共充满缓冲 $\frac{40MB/s}{32b}=10M$ 次  
需要10M * 400 * 4个周期大于500M， 故不行  

3):  
处理所需中断数为 $\frac{40MB/s}{1000B}=4 * 10^4$ 次 ， 故占比为 $\frac{4 * 10^4 * 500}{500MHz}=4\%$  
***  
44  
评价：  
一般，难度欠佳， 两星半  

思考题：  
Q: 若本题cache处，画了0\~7，而不是0\~2，未给出物理地址结构和位数， 该怎么分析出来？  
A: 注意到实页号最多16位， 且tag为00324H处最高位为F， 可以看出实页号就是16位， 和页内地址12位拼接， 可知物理地址28位，同理， ，在cache中， tag为F8000H处最高位为F， 所以cache占20位，共8路， 所以组号用3位表示， 剩下28-20-3=5位， 所以地址结构可得[20, 3, 5]  

Q: 有效位是否必须存在?  
A: 如果tag的范围不能充满取值空间， 那么可以不存在， 这时就需要用一种特殊tag位表示空状态， 但这也会影响CPU处理速度， 原本换出一块只需要存在位置0， 但现在需要将tag很多位替换为固定取值

1):  
28位  

2):  
全相联映射， cache用SRAM， 因为更快  

3):  
2路组相联映射， 需要1位算法位和一位脏位，因为初始时， cache为空， 里面的tag并不表示该标记对应的主存块在cache中， 这时就需要存在位  

4):  
0008CH转化为实页号0040H， 拼接页内地址后为0040040H  
此时cache未命中， 因为这个地址对应的组号为2， 二组中tag为00400处有效位为0  
转换后低位还是260不变， 而0110 0000， 高3位即组号， 即第三组