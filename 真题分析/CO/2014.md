# 2014
## 选择题 
1.  D  
    $\frac{20·7·12}{10·10}=16.8$ s  
2.  C  
8位定点补码范围为-128-127，显然x-y=128溢出  
1.  A  
CC9H为1100 1100 1001， B0CH为1011 0000 1100， 可见两者都为负数， 且10011001>01100001, 故x>y(直接比较阶码即可)  
1.  A  
签到题， 11根地址线和8根数据线  
1.  D  
签到题  
1.  A  
8(op)4(寻源操作数的寄存器)4(寻目的操作数的基址寄存器)16(偏移量位数),可知16位取值范围为-32768~+32767  
1.  C  
签到题， $2 + 32 · 4 = 130$,故下地址至少要8位  
1.  C  
时钟周期传两个传数据， 那么数据传输率为 $66MHz · 4 · 2 = 548MB/s$ ,其中4是32根数据线即4字节  
1.  C  
签到题  
1.  D  
若采用统一编址， 那么不用设置类似in,out的指令， 直接用访存指令访问外设即可  
1.  B  
签到题, $\frac{100}{400} = 0.25$ , 每400ns需要100ns的占用
## 应用题   
44  
1):  
由于指令长32位， 指令增加一条地址增加4， 故一个地址是1B， 按字节编址  
2):  
结合汇编分析得知r2<<2， 即为要访问的单元距离数组首地址的偏移， r2存放的是数量， 那么数组每个单元大小应为4字节  
3):  
机器代码1446FFFAH，的最后两个字节为FFFAH, 即为OFFSET的的内容， 数值为-6， 可知，OFFSET为偏移指令的大小而不是偏移字节的大小，
那么地址计算公式为 $PC = (PC) + 4 + 4 * OFFSET$  
4):  
1和2， 2和3，3和4，  5和6数据冲突，故发生阻塞的指令是2,3,4,6, 转移指令6发生控制冒险， 因为指令6为转移指令， 执行后阻塞3个时钟周期,这时1在ID取数时， 5已经经过WB阶段  
*** 
45  
1):  
r2代表i, 执行结束时， i=N=1000  
2):  
容量为16 * 32B = 512B  
由于所有指令都映射到8号块， 所以只有第一次访问时会缺失， 总访问次数为1000*6 = 6000， 那么命中率为 $\frac{5999}{6000}$ %  
3):  
存储sum的寄存器r1的相关指令，即第四条可能会溢出异常， 由于寄存器大小是4B，由于r2最大就是1000， 故第一，二，五条不会溢出，数组单元最大就是4B，故第三条不会溢出   
因为数据都在一个页内，故只有第一次访问TLB时会发生缺页中断，即第三条会缺页异常  
共有1000次访存操作， 第1次异常后需再访问一次， 所以共1001次  
**总结**：  
挺精彩的一年， 值得回顾  
对于44第三问：若OFFSET为偏移字节大小， 那么 $PC = (PC) + 4 + OFFSET$  
cache若缺失，那么不用把数据拿到cache后，再次访问cache  
而对于TLB缺失， 需要第二次访问TLB  