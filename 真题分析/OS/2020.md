# 2020

23. B

    多个进程可以同时以读写方式打开文件， 而互斥性操作系统不保证， 需要用户程序自己通过系统调用加锁来实现

    正确

    进程打开文件表 表项不同， 系统打开文件表表项相同

    删除自己的进程打开文件表， 将系统打开文件表的链接指针-1

24. A

    链接分配不能随机访问，顺序分配不能文件变长

25. D

    保存断点是硬件（中断隐指令：关中断，保断点，引出中断服务程序）自动完成

    中断服务程序：保存进程运行环境, 执行，恢复运行环境和开中断

    中断向量表再操作系统引导时创建

26. D

    全都需要考虑

27. B

    还剩余[1, 0],满足P2， 回收后，系统资源为[3, 1], 满足进程P1, 回收后资源数为[5, 4], 满足进程P3

28. D

    显然都会影响

29. B

    他们有各自的地址空间

30. D

    用户使用的是逻辑设备号， 设备独立性把逻辑设备号转为物理设备号， 所以程序无需更改

31. B

    索引节点上限就是最大文件数量上限， 本系统最多有 $2^{32}$ 个索引节点

32. C

    i， ii, iii分别对应忙则等待， 空闲让进， 有限等待， 而iv的让权等待在多处理机上， 有时可以不必遵守， 当A核在空转时， B核进程可能访问完给互斥资源解锁， 这时A核就可能直接进入，让权等待带来的上下文切换可能开销更大



## 大题

45

```
semaphore ac = 0; //用于解决C的同步
semaphore bc = 0; //用于解决C的同步
semaphore ce = 0; //用于解决E的同步
semaphore de = 0; //用于解决E的同步

A {
	v(ac)
}

B {
	v(bc)
}

C {
	p(ac)
	p(bc)
	v(ce)
}

D {
	v(de)
}

E {
	p(ce)
	p(de)
}
```

如果不区分ac和bc， 那么A执行两次而B未执行，就会导致问题

***

46

1. 10800000H + 4 * 1024D + 2 * 4D = 10801008H, 页目录号042H， 页表号001H， 物理地址为00201000H + 042H * 4 = 00201108H, 那么对应的物理地址为00301000H + 001H * 4 = 00301004H
2. 在虚拟地址空间内连续存储，在物理地址空间不必连续存储
3. 按行访问，每行刚好放在同一个页中，那么按行访问就有良好的局部性，如果按列访问， 每次访问一个新的页， 势必造成大量缺页异常